<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>dcreager.net</title>
    <meta name="author" content="Douglas Creager" />

    
    <link rel="openid.server" href="http://openid.dcreager.net/index.php" />
    <link rel="openid.delegate" href="http://openid.dcreager.net/index.php" />
    

    <link rel="alternate" type="application/atom+xml"
          title="dcreager.net" href="/atom.xml"/>
 
    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/css/syntax.css" type="text/css" />

    <!-- main CSS -->
    <link rel="stylesheet" href="/css/main.css" type="text/css" />
  </head>

  <body>

    <!--
       Preload some images.  The “preload” class is set to never
       display.
      -->
    <div class="preload">
      <img src="/images/icon-pdf.png"/>
      <img src="/images/icon-pdf-shadow.png"/>
      <img src="/images/mag.png"/>
      <img src="/images/mag-shadow.png"/>
    </div>

    <div class="site">
      <div class="site_content">
        <div class="left">
          <div class="leftnav">
            <p><a href="/">Home</a></p>
<p><a href="/archive/">Archive</a></p>
<p><a href="/publications/">Publications</a></p>

          </div>
        </div>

        <div class="site_header">
          <p class="title">dcreager.net</p>
          <p class="subtitle">A BLOG ABOUT HUGE DATA, CODING, AND MISCELLANEA</p>
        </div>

        <div class="body">
          

  

  <h1>Decentralized datatypes</h1>

  <div class="postdate">
    Monday, December 21, 2009
  </div>

  <p>Over the past year or so there have been quite a few blog postings in the REST world about MIME types, and their role in the REST architecture. A lot of the discussion seems to be prompted by WADL, which is an attempt to define a WSDL-style interface description language for REST services. <a href='http://bitworking.org/news/193/Do-we-need-WADL'>Joe Gregorio</a> argues that MIME types are more useful for describing the semantics of a service than a WADL document, since there are parts of the service&#8217;s semantics that just can&#8217;t be encoded in a machine-readable format. MIME types acknowledge this, providing a standard way of identifying a data format and pointing to the human- and machine-readable documents (such as RFCs and XSDs) that define the syntax and accompanying semantics.</p>

<p>Following this idea, several people have begun debating whether or not the centralized assignment of MIME types is the right way to handle the variety of data formats that REST-based systems produce and consume. <a href='http://www.markbaker.ca/blog/2008/02/media-type-centralization-is-a-feature-not-a-bug/'>Mark Baker</a> comes in on the side of centralized assignment, whereas <a href='http://www.innoq.com/blog/st/2008/02/decentralizing_media_types.html'>Stefan Tilkov</a>, <a href='http://netzooid.com/blog/2008/02/07/why-a-restful-idl-is-an-oxymoron-and-what-we-really-need-instead/'>Dan Diephouse</a>, and <a href='http://macstrac.blogspot.com/2007/11/atompub-services-and-auto-detecting.html'>James Strachan</a> argue in favor of decentralized types. <a href='http://bill.burkecentral.com/2008/03/05/restful-xml-content-negotitation/'>Bill Burke</a> and <a href='http://soundadvice.id.au/blog/2009/08/16/#mimeLimitation'>Benjamin Carlyle</a> have good summaries of the different proposed technical solutions that would enable decentralized types.</p>

<h2 id='extended_types'>“Extended” types</h2>

<p>One of the arguments in favor of centralized assignment is that allowing everyone to invent their own MIME types would ruin interoperability. And for certain cases, this seems pretty obviously true. It&#8217;s a good thing that we have a standardized <code>image/png</code> MIME type; this allows your browser to correctly display the website logo you see up in the upper left corner. If I were daft, I could decide to serve that logo using a MIME type of <code>image/x-dcreager-png</code> (or similar) to indicate that I&#8217;ve included some particular set of metadata in an ancillary chunk of the PNG.</p>

<p>Why would I want to do this? Maybe I&#8217;m writing an application that knows how to process this metadata, and I&#8217;d like to easily determine whether a particular resource I&#8217;m accessing has this metadata or not. The <a href='http://www.openmicroscopy.org'>Open Microscopy Environment</a> does exactly this; they&#8217;ve defined an XML schema that allows biology researchers to provide additional scientific metadata about an image or movie captured from a high-end microscope. One way to encode an image and its metadata is as an “OME-TIFF”, a data format that includes the metadata in an optional TIFF section. OME-TIFF files are also perfectly valid as regular TIFF files. This has the benefit that an OME-aware application can access the scientific metadata, whereas a “regular” image processing application can read the image using its normal TIFF decoder.</p>

<p>Of course, now we have competing goals that we have to reconcile. On the one hand, we need to ensure that OME-aware applications can see that a particular image is an OME-TIFF. On the other, we need non-OME-aware applications to see the image as a regular TIFF. One of the decentralized proposals — MIME type parameters — tries to address this. For instance, a MIME type for an OME-TIFF might be <code>image/tiff;
ome=xml</code>. By using the standard <code>image/tiff</code> as the base MIME type, non-OME-aware applications correctly treat it as a simple TIFF. OME-aware applications would know that the <code>ome=xml</code> parameter indicates that the OME-specific metadata is present.</p>

<h2 id='the_multitude_of_xml_types'>The multitude of XML types</h2>

<p>Another example given is that of an XML document. Most applications will generate XML documents that conform to a particular schema (for instance, a company-specific purchase order), which they might encode as an XSD. Now, the XSD on its own doesn&#8217;t give you the full story on how to process that data, but it does provide some detail on how the data is structured. If you&#8217;re writing an application that consumes this data, having the XSD available would be helpful. More interesting is an application that can consume <em>any</em> XML document — and which might use an XSD or RelaxNG schema to customize the UI used to display the document.</p>

<p>In both cases, the schema is necessary to process the document, but for different reasons. In the first case, the consuming application was built with advance knowledge of how the data should be handled, and the schema is used to direct a particular document to the code that implements this knowledge. In the second case, the particular datatype is unimportant, and the application-specific semantics aren&#8217;t used; the data is only consumed as a “generic XML document”, and the schema is used to describe the specific structure of the elements.</p>

<h2 id='data_doesnt_have_a_single_type'>Data doesn&#8217;t have a single type</h2>

<p>The common theme in both of these examples is that a single datatype isn&#8217;t enough to describe the data we&#8217;re dealing with. As Roy Fielding <a href='http://roy.gbiv.com/untangled/2009/wrangling-mimetypes'>points out</a>, “all data formats correspond to multiple media types”. It&#8217;s tempting to think of a datatype as just “the syntax and structure of the data”. But it must also include some intuition about how the data will be used.</p>

<p>From this point of view, the generic XML processing application does <em>not</em> handle a multitude of datatypes. Instead, it handles exactly one: “generic XML document with associated schema”. The application that knows how to process this particular schema will handle a different, completely distinct, datatype: “company-specific purchase order XML document”. And the particular XML document in question — a single sequence of bytes that is a single representation of a single resource — is an instance of both types.</p>

<p>Why shift things around like this? Doesn&#8217;t it just move the complexity from the consumer (who used to consume multiple types) to the producer (who must now publish the XML document under different types)? Not necessarily. The key idea is that we can use <em>transformation graphs</em> to encode the relationships between the datatypes:</p>
<div class='figure'>
  <img src='/images/2009/12/21/decentralized-datatypes/xform-graph.png' alt='transformation graph' />
</div>
<p>In this specific example, the transformation is simple — since the same sequence of bytes is a valid instance of both types, we don&#8217;t have to modify the data itself. The decentralized MIME types (especially the MIME parameter proposal) already support these kinds of “no-op” transformations: the more generic type is the “base” MIME type, and the more specific extensions are encoded as MIME parameters. However, by modeling the type relationships as an arbitrary graph, we open up the possibility of more complex sets of types, which might require actual code to transform between them, but which can be defined in a decentralized manner.</p>

<p>Even though the model is more complex, we haven&#8217;t required the producer or consumer to be more complex. A transformation graph is necessary to translate between the two different (but compatible) types, but the graph doesn&#8217;t have to specifically live at the producer or the consumer. The producer can publish the data using the only type it knows about (the “company-specific” type), and a consumer can request the data using the only type it knows about (such as the “generic XML” type). Anywhere along the path from the producer to the consumer, we can use the transformation graph to automatically transform the data from one type to the other.</p>

<p>More details on transformation graphs, including more complex examples, can be found in my <a href='/publications/012-dphil-thesis'>DPhil thesis</a>.</p>

  <div class="postlinks">
    <a href="/2009/12/21/decentralized-datatypes/">Permanent link</a>
    |
    <a href="/2009/12/21/decentralized-datatypes/#disqus_thread">Comments</a>
  </div>

  
  </div>
<div class="body_separator"></div>
<div class="body">

  

  <h1>Simulating “make distclean” in SCons</h1>

  <div class="postdate">
    Friday, December 18, 2009
  </div>

  <p>SCons provides an automatic “clean” target out of the box — just run <code>scons -c</code>, and SCons will delete all of the objects that it knows how to build. This is a very useful feature; however, there are two main missing features that I want to add to my build scripts. First, I want to be able to delete all of the temporary files SCons uses, such as its configuration cache and any files I use to store variable values. These aren&#8217;t included in the default list of the files to clean up. Second, I want more control over which items are deleted by default, when you specify <code>scons -c</code> without any targets. I&#8217;ll describe my solution to the first problem in this post. I&#8217;ll write up the second problem in another post.</p>

<h2 id='deleting_sconss_temporary_files'>Deleting SCons&#8217;s temporary files</h2>

<p>This feature is akin to the <code>make distclean</code> target that Automake puts into the Makefiles that it generates. This differs from <code>make clean</code>; <code>make clean</code> is intended to delete all of the build products, but leave behind the results of the <code>configure</code> step, whereas <code>make
distclean</code> is supposed delete <em>everything</em>, returning the source tree to the same state as when you&#8217;d just unpacked the tarball.</p>

<p>The <code>scons -c</code> command is analogous to <code>make clean</code>, and requires no setup. It will automatically delete any of the build products that are created by running <code>scons</code>. There are several cache files that SCons creates, however, and it would be nice to have an equivalent to <code>make distclean</code>. This is especially useful when developing a new <code>Configuration</code> check, for instance — if you make a change to the test, you want to be able to (easily) force SCons to ignore any cached results, and try all of the tests again.</p>

<p>This is actually fairly easy to set up, assuming you know the list of temporary files that SCons will create. You can add the following rule to your top-level <em>SConstruct</em> file:</p>
<div class='highlight'><pre><span class='lineno'>1</span> <span class='n'>env</span><span class='o'>.</span><span class='n'>Clean</span><span class='p'>(</span><span class='s'>&quot;distclean&quot;</span><span class='p'>,</span>
<span class='lineno'>2</span>           <span class='p'>[</span>
<span class='lineno'>3</span>            <span class='s'>&quot;.sconsign.dblite&quot;</span><span class='p'>,</span>
<span class='lineno'>4</span>            <span class='s'>&quot;.sconf_temp&quot;</span><span class='p'>,</span>
<span class='lineno'>5</span>            <span class='s'>&quot;config.log&quot;</span><span class='p'>,</span>
<span class='lineno'>6</span>           <span class='p'>])</span>
</pre>
</div>
<p>As far as I can tell, these three files are always created by SCons. To delete these files, you simply run <code>scons -c distclean</code>. Because we&#8217;ve defined the target using <code>Clean</code>, it will only be run when you pass in the <code>-c</code> option to <code>scons</code>.</p>

<p>Since we&#8217;re putting together the file list manually, you should make sure to add any additional cache files that your SCons scripts use. For instance, I&#8217;m using some <code>Variable</code> options, which I store into a file called <em>.scons.vars</em>. (This means that the user doesn&#8217;t have to type them in with every invocation of <code>scons</code>.) By using these variables, I have to add another entry to the <code>distclean</code> target:</p>
<div class='highlight'><pre><span class='lineno'>1</span> <span class='nb'>vars</span> <span class='o'>=</span> <span class='n'>Variables</span><span class='p'>(</span><span class='s'>&#39;.scons.vars&#39;</span><span class='p'>,</span> <span class='n'>ARGUMENTS</span><span class='p'>)</span>
<span class='lineno'>2</span> <span class='c'># ...define a bunch of variables</span>
<span class='lineno'>3</span> <span class='nb'>vars</span><span class='o'>.</span><span class='n'>Update</span><span class='p'>(</span><span class='n'>env</span><span class='p'>)</span>
<span class='lineno'>4</span> <span class='nb'>vars</span><span class='o'>.</span><span class='n'>Save</span><span class='p'>(</span><span class='s'>&quot;.scons.vars&quot;</span><span class='p'>,</span> <span class='n'>env</span><span class='p'>)</span>
<span class='lineno'>5</span> 
<span class='lineno'>6</span> <span class='n'>env</span><span class='o'>.</span><span class='n'>Clean</span><span class='p'>(</span><span class='s'>&quot;distclean&quot;</span><span class='p'>,</span> <span class='p'>[</span><span class='s'>&quot;.scons.vars&quot;</span><span class='p'>])</span>
</pre>
</div>
<p>Note how, just like with any SCons target, I can define the <code>distclean</code> target multiple times. SCons will take care of merging them into a single action, deleting all of the specified files when you run <code>scons -c distclean</code>.</p>

  <div class="postlinks">
    <a href="/2009/12/18/make-distclean-in-scons/">Permanent link</a>
    |
    <a href="/2009/12/18/make-distclean-in-scons/#disqus_thread">Comments</a>
  </div>

  
  </div>
<div class="body_separator"></div>
<div class="body">

  

  <h1>Downgrading packages in Ubuntu</h1>

  <div class="postdate">
    Tuesday, September 08, 2009
  </div>

  <h2 id='what_kind_of_trouble_did_you_get_yourself_into_this_time'>What kind of trouble did you get yourself into this time?</h2>

<p>I have recently been setting up a new machine that I&#8217;ll be using jointly as a work machine and a MythTV frontend/backend. As part of setting this up, I&#8217;ve had several issues getting the integrated ATI Radeon HD 3200 display board to work correctly. I&#8217;ll save the details for another post, but the short version is that none of the three available X drivers (ATI&#8217;s <code>fglrx</code> and the open-source <code>radeon</code> and <code>radeonhd</code>) seem to drive the HDMI output connector correctly.</p>

<p>As part of testing this, I used <a href='https://launchpad.net/~tormodvolden/+archive/ppa'>Tormod Volden&#8217;s packages</a> for the <code>radeon</code> and <code>radeonhd</code> drivers, which are based on newer releases than are available in the mainline Jaunty package trees. For some packages, they are even based on bleeding-edge git checkouts, rather than released tarballs. (More notes on using <code>radeonhd</code> can be found <a href='https://help.ubuntu.com/community/RadeonHD'>here</a>.) While neither package was able to use the HDMI connector properly, the <code>radeon</code> driver was able to give me output on the VGA connector, with full 2D and video acceleration (which I needed for the MythTV front-end). My monitor (a Westinghouse L2410NM) was auto-detected through the connection, so my <em>xorg.conf</em> is trivial.</p>

<p>However, neither open-source driver has 3D acceleration support yet. To get this, I&#8217;ll need to use ATI&#8217;s <code>fglrx</code> driver. Not a problem, right? Just install the packages, then change the <code>radeon</code> entry in your <em>xorg.conf</em> over to <code>fglrx</code>, and you&#8217;re good to go! Except that by using Tormod&#8217;s package tree to pick up the latest <code>radeon</code> and <code>radeonhd</code> drivers, I <em>also</em> pick up more recent versions of <code>xserver</code> and friends, and it would seem that the <code>fglrx</code> drivers don&#8217;t play well with the new version — I get segfaults when the X server tries to start using <code>fglrx</code>, which didn&#8217;t happen before installing Tormod&#8217;s drivers.</p>

<p>So, I need to back out all of the packages installed from Tormod&#8217;s tree, and revert back to the versions of these packages that I had previously installed from the mainline Jaunty trees.</p>

<h2 id='how_you_might_think_it_should_work'>How you might think it should work</h2>

<p>Anticipating that I might want to remove Tormod&#8217;s tree from my <em>sources.list</em>, I used the nice <em>sources.list.d</em> facility. Instead of putting all of your package sources into a single file, you put them in separate files in the <em>/etc/apt/sources.list.d</em> directory. That way, activating and deactivating a particular package tree is as simple as moving a file and re-running <code>apt-get update</code>:</p>

<pre><code>$ sudo mkdir /etc/apt/sources.list.d.unused
$ sudo mv /etc/apt/sources.list.d/tormod.list /etc/apt/sources.list.d.unused
$ sudo apt-get update</code></pre>

<p>Now we&#8217;ve removed Tormod&#8217;s packages from our list of available packages. Ideally, we could run an <code>apt-get</code> command to “downgrade” our packages to those that are mentioned in our package lists. However, I wasn&#8217;t able to find such a command. If you try to run <code>apt-get upgrade</code> or <code>apt-get dist-upgrade</code>, APT will see that you have more recent versions of the X packages installed (the ones from Tormod&#8217;s tree), and won&#8217;t overwrite those with the older packages mentioned in the sources that we&#8217;ve activated. Normally, this is the behavior that we want; but in this case, we&#8217;re boned.</p>

<h2 id='downgrading_explicitly'>Downgrading explicitly</h2>

<p>Instead, we&#8217;ll need to remove the newer packages using <code>apt-get
remove</code>, and then reinstall them using <code>apt-get install</code>. Unfortunately, you have to specify which packages you want to remove and reinstall on the command line. So, we need a command pipeline that will tell us “all packages installed from Tormod&#8217;s tree”, so that we can call <code>apt-get remove</code> and <code>apt-get install</code> on them.</p>

<p>First, we can get a list of the packages defined by a particular source by reading the files in <em>/var/lib/apt/lists</em>. This directory contains the local copies of the package list files that are downloaded from each source. Each source has its own files, which makes it easy to distinguish the packages that came from Tormod&#8217;s tree from those that came from mainline Jaunty. However, there will only be files for the activated sources — so if you&#8217;ve moved the <em>tormod.list</em> file like I did above, you won&#8217;t find a file for Tormod&#8217;s package tree. First, we&#8217;ll have to reactivate his package tree:</p>

<pre><code>$ sudo mv /etc/apt/sources.list.d.unused/tormod.list /etc/apt/sources.list.d
$ sudo apt-get update</code></pre>

<p>Now that we&#8217;re sure that Tormod&#8217;s tree has a file in <em>/var/lib/apt/lists</em>. The filename is based on the URL of the <em>sources.list</em> entry that you want to deal with. So if you&#8217;re following these instructions for a different package tree than Tormod&#8217;s X packages, you&#8217;ll need to find the correct file and <code>grep</code> it instead. You&#8217;ll see several files for each source; you want the file that ends in <code>Packages</code> and contains <code>binary</code> and your architecture in the name.</p>

<p>Once we find the file, we can extract out the <code>Package</code> lines from it:</p>

<pre><code>$ cd /var/lib/apt/lists
$ grep Package ppa.launchpad.net_tormodvolden_ppa_ubuntu_dists_jaunty_main_binary-amd64_Packages
Package: xserver-xorg-video-ati
Package: xserver-xorg-video-ati-dbg
Package: xserver-xorg-video-radeon
Package: xserver-xorg-video-radeon-dbg
[...]</code></pre>

<p>We only want the package names, though, so we need to use <code>sed</code> to strip out the <code>Package:</code> prefix:</p>

<pre><code>$ grep Package ppa.launchpad.net_tormodvolden_ppa_ubuntu_dists_jaunty_main_binary-amd64_Packages \
  | sed -e &#39;s/^Package: //&#39;
xserver-xorg-video-ati
xserver-xorg-video-ati-dbg
xserver-xorg-video-radeon
xserver-xorg-video-radeon-dbg
[...]</code></pre>

<p>This tells us which packages are defined in Tormod&#8217;s package tree. However, we can&#8217;t pass all of them into <code>apt-get install</code>, because we probably haven&#8217;t installed all of the packages that Tormod made available. We can use <code>dpkg-query</code> to see which of these packages are actually installed:</p>

<pre><code>$ grep Package ppa.launchpad.net_tormodvolden_ppa_ubuntu_dists_jaunty_main_binary-amd64_Packages \
  | sed -e &#39;s/^Package: //&#39; \
  | xargs dpkg-query -W 2&gt;/dev/null
gnome-screensaver	2.24.0-0ubuntu6
libgl1-mesa-dev	7.4-0ubuntu3.2
libgl1-mesa-swx11-dev	
mesa-common-dev	7.4-0ubuntu3.2
xdmx	
xnest	
[...]</code></pre>

<p>The first four lines of this output describe packages that are installed, while the last two describe packages that are not installed. We can distinguish between the two cases by the presence or absence of the version number. Looking closely, we can see that the package name and version number are separated by a tab character. Hopefully, that tab isn&#8217;t printed for uninstalled packages, which would let us just look for a tab character to filter out the uninstalled packages. Let&#8217;s try it and see:</p>

<pre><code>$ grep Package ppa.launchpad.net_tormodvolden_ppa_ubuntu_dists_jaunty_main_binary-amd64_Packages \
  | sed -e &#39;s/^Package: //&#39; \
  | xargs dpkg-query -W 2&gt;/dev/null \
  | less -U
gnome-screensaver^I2.24.0-0ubuntu6
libgl1-mesa-dev^I7.4-0ubuntu3.2
libgl1-mesa-swx11-dev^I
mesa-common-dev^I7.4-0ubuntu3.2
xdmx^I
xnest^I
[...]</code></pre>

<p>Ah well, it was worth a try. But as a consolation, we can check for a tab followed by any other character, and we&#8217;ll get the installed packages:</p>

<pre><code>$ grep Package ppa.launchpad.net_tormodvolden_ppa_ubuntu_dists_jaunty_main_binary-amd64_Packages \
  | sed -e &#39;s/^Package: //&#39; \
  | xargs dpkg-query -W 2&gt;/dev/null \
  | grep &#39;\t.&#39;
gnome-screensaver^I2.24.0-0ubuntu6
libgl1-mesa-dev^I7.4-0ubuntu3.2
mesa-common-dev^I7.4-0ubuntu3.2
xscreensaver-data^I5.08-1~rc2
[...]</code></pre>

<p>Note that the <code>\t</code> in the above is an actual tab character, and not a backslash followed by a T. In most shells, you type in the tab character by pressing Control-V and then the Tab key.</p>

<p>Now we have a list of installed packages that <em>might</em> have come from Tormod&#8217;s package tree. I say might have, because it&#8217;s possible that the mainline Jaunty has a newer version of a package that Tormod&#8217;s tree does. Earlier, we said we were looking for the packages that <em>definitely</em> came from Tormod&#8217;s tree, so that we can reinstall them. If we reinstall all of the packages in this list we&#8217;ve just created, then we might end up reinstalling a package that we don&#8217;t need to. But that&#8217;s not the worst thing in the world — we&#8217;re only reinstalling a dozen or so packages in total, so the extra work of reinstalling a couple of packages that we don&#8217;t need to won&#8217;t really kill us.</p>

<p>So now we need to pass this list into <code>apt-get</code> to reinstall the packages. <code>apt-get</code> only wants the package names, not the versions, so we&#8217;ll need to use <code>sed</code> again to strip these out: (Like before, the two <code>\t</code> entries are actual tab characters.)</p>

<pre><code>$ grep Package ppa.launchpad.net_tormodvolden_ppa_ubuntu_dists_jaunty_main_binary-amd64_Packages \
  | sed -e &#39;s/^Package: //&#39; \
  | xargs dpkg-query -W 2&gt;/dev/null \
  | grep &#39;\t.&#39; \
  | sed -e &#39;s/\t.*$//&#39;
gnome-screensaver
libgl1-mesa-dev
mesa-common-dev
xscreensaver-data
[...]</code></pre>

<p>Perfect! Let&#8217;s save this package list into a file.</p>

<pre><code>$ grep Package ppa.launchpad.net_tormodvolden_ppa_ubuntu_dists_jaunty_main_binary-amd64_Packages \
  | sed -e &#39;s/^Package: //&#39; \
  | xargs dpkg-query -W 2&gt;/dev/null \
  | grep &#39;\t.&#39; \
  | sed -e &#39;s/\t.*$//&#39; \
  &gt; /tmp/tormod.packages</code></pre>

<p>Then, we can deactivate Tormod&#8217;s tree, and then forcably reinstall any of the packages that we might&#8217;ve gotten from it:</p>

<pre><code>$ sudo mv /etc/apt/sources.list.d/tormod.list /etc/apt/sources.list.d.unused
$ sudo apt-get update
$ sudo apt-get remove `cat /tmp/tormod.packages`
$ sudo apt-get install `cat /tmp/tormod.packages`</code></pre>

  <div class="postlinks">
    <a href="/2009/09/08/ubuntu-downgrading/">Permanent link</a>
    |
    <a href="/2009/09/08/ubuntu-downgrading/#disqus_thread">Comments</a>
  </div>


        </div>

        

      </div>
    </div>

    <div class="footer">
      <div class="copyright">
        Copyright © 2009, Douglas Creager.  All rights reserved.
      </div>
    </div>

  </body>
</html>

