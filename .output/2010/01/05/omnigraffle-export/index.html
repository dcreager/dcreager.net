<!doctype html>
<html lang="en">
<head>
    <title>
    dcreager.net – Exporting OmniGraffle documents from the command line
  </title>
  <meta name="author" content="Douglas Creager">

    <meta charset="utf-8">

  <meta name="google-site-verification"
        content="7KIoYPNsfdDxIdX1QQ7SM2Nm_nyy13aRlDkzE3wzhhY" />

  <link rel="shortcut icon" href="/media/images/dcreager.ico">

  <link rel="alternate" type="application/atom+xml"
        title="dcreager.net" href="/atom.xml"/>

  <!-- Bootstrap -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel=stylesheet type=text/css media=screen
        href="/media/vendor/css/bootstrap.min.css">
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
  <![endif]-->

  <!-- Moot commenting -->
  <link rel=stylesheet type=text/css
        href="//cdn.moot.it/1/moot.css">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!-- Customizations -->
  <link rel=stylesheet type=text/css media=screen
        href="/media/css/coderay.css">
  <link rel=stylesheet type=text/css media=screen
        href="/media/css/dcreager.css">
  <link rel=stylesheet type=text/css media=screen
        href="http://fonts.googleapis.com/css?family=Oxygen:400,700">

</head>

<body>
  <div class="container">
    <div class="row">
  <div class="col-md-10 col-md-offset-1">
    <nav class="navbar navbar-default" role="navigation">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand logo" href="/"><b>dcreager.net</b></a>
      </div>

      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="/about/">About</a></li></li>
          <li><a href="/archive/">Archive</a></li></li>
          <li><a href="/publications/">Publications</a></li></li>
        </ul>
      </div><!-- /.navbar-collapse -->
    </nav>
  </div>
</div>

    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        <div class="blog">
          <div class="date">2010-01-05</div>
          <h1>Exporting OmniGraffle documents from the command line</h1>
          <p><a href="http://www.omnigroup.com/applications/OmniGraffle/">OmniGraffle</a> is
my tool of choice for creating figures for my papers.  It&rsquo;s biggest
drawback is that it&rsquo;s only available for Mac OS, which can make it
cumbersome if I&rsquo;m working on one of my Linux machines and need to
create or modify a figure.  But it&rsquo;s ease-of-use and the quality of
the figures it creates are hard to beat.</p>

<p>Of course, creating the figure isn&rsquo;t enough — since I write my papers
in LaTeX, I have to export my figures into EPS or PDF (depending on
whether I&rsquo;m creating a PostScript or PDF version of the paper) before
I can use them in my documents.  It&rsquo;s easy enough to use the Export
dialog to do this (keyboard shortcut: ⌥⌘E), but ideally I&rsquo;d like the
ability to export figures from the command line.  Coupled with a good
Makefile, this would let me run a simple <code>make paper</code> command, and
automatically re-export any necessary figures before rebuilding the
paper itself.</p>

<p>Luckily, OmniGraffle has always had rather good support for being
controlled via AppleScript.  The commands can be somewhat
undocumented, requiring a bit of trial and error, but while entrenched
in our PhD studies at Oxford, my colleague David Faitelson and I were
able to whip together a script that suited our needs.  I&rsquo;ve recently
extracted the code from our Oxford SVN repository and uploaded it to
<a href="http://github.com/dcreager/graffle-export">Github</a>.</p>

<p>To install the script, just place the <em>graffle.sh</em> and <em>graffle.scpt</em>
files into some directory that&rsquo;s on your <code>$PATH</code>, such as
<em>/usr/local/bin</em> or <em>$HOME/bin</em>.  Then just run</p>

<pre><code>$ graffle.sh «format» «graffle file» «output file»
</code></pre>

<p>This will open the figure in OmniGraffle, and export it into the
format you specify on the command line, saving the result into
<code>«output file»</code>.</p>

<p>I&rsquo;m still using version 4 of OmniGraffle, so I haven&rsquo;t had a chance to
verify that the script still works with version 5.  If you try it, and
it doesn&rsquo;t, feel free to open up a ticket on the <a href="http://github.com/dcreager/graffle-export/issues">Github
site</a>.</p>

          <a class="moot"
   title="Exporting OmniGraffle documents from the command line"
   href="https://moot.it/i/dcreager//2010/01/05:omnigraffle-export">
</a>

        </div>
      </div>
    </div> <!-- /row -->
  </div> <!-- /container -->

    <footer class="copyright">
    <div class="container">
      <p>Copyright © 2009-2015, Douglas Creager.
      All&nbsp;rights&nbsp;reserved.</p>
    </div>
  </footer>

    <script src="//code.jquery.com/jquery.min.js"></script>
  <script src="/media/vendor/js/bootstrap.min.js"></script>
  <script src="//cdn.moot.it/1/moot.min.js"></script>

</html>
